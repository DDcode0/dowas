<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calculadora de Distribución Normal</title>
  <link rel="stylesheet" href="styleNormal.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

  <!-- Logo UMG -->
  <div class="logo">
    <h2>UMG</h2>
  </div>

  <div class="container">
    <header>
      <h1>Calculadora de Distribución Normal</h1>
    </header>

    <!-- Formulario -->
    <form id="normalForm" class="formulario">
      <div class="form-group">
        <label for="media">Media (μ):</label>
        <input type="number" id="media" name="media" required>
      </div>

      <div class="form-group">
        <label for="desviacion">Desviación Estándar (σ):</label>
        <input type="number" id="desviacion" name="desviacion" required>
      </div>

      <div class="form-group">
        <label for="valorX">Valor (X):</label>
        <input type="number" id="valorX" name="valorX" required>
      </div>

      <div class="form-group">
        <label for="tipoProbabilidad">Tipo de Probabilidad:</label>
        <select id="tipoProbabilidad" name="tipoProbabilidad" onchange="mostrarCamposAdicionales()">
          <option value="menor_igual">P(X ≤ x)</option>
          <option value="mayor_igual">P(X ≥ x)</option>
          <option value="entre">P(a ≤ X ≤ b)</option>
        </select>
      </div>

      <div id="camposAdicionales" style="display: none;">
        <div class="form-group">
          <label for="valorA">Valor (a):</label>
          <input type="number" id="valorA" name="valorA">
        </div>
        <div class="form-group">
          <label for="valorB">Valor (b):</label>
          <input type="number" id="valorB" name="valorB">
        </div>
      </div>

      <button type="button" class="btn-calcular" onclick="calcularNormal()">Calcular</button>
      <button type="button" class="btn-reiniciar" onclick="reiniciarFormulario()">Reiniciar</button>
    </form>

    <div id="resultado" class="resultado"></div>

    <!-- Contenedor del gráfico -->
    <canvas id="graficoNormal"></canvas>

    <!-- Botón para volver -->
    <button type="button" class="btn-volver" onclick="volver()">Volver</button>
  </div>

  <!-- Figuras geométricas de fondo -->
  <div class="hexagon1"></div>
  <div class="hexagon2"></div>
  <div class="circle1"></div>
  
  <script src="scriptNormal.js"></script>
</body>
</html>

// document.getElementById('calcular').addEventListener('click', calcularProbabilidad);
// document.getElementById('tipoProbabilidad').addEventListener('change', mostrarCamposAdicionales);
// document.getElementById('reiniciar').addEventListener('click', reiniciarFormulario);

// function calcularProbabilidad() {
//     let media = parseFloat(document.getElementById('media').value);
//     let desviacion = parseFloat(document.getElementById('desviacion').value);
//     let valorX = parseFloat(document.getElementById('valorX').value);
//     let tipoProbabilidad = document.getElementById('tipoProbabilidad').value;
//     let resultado;

//     // Tipificación de la variable
//     let z = (valorX - media) / desviacion;

//     switch (tipoProbabilidad) {
//         case 'menor_igual':
//             resultado = normCDF(z);
//             document.getElementById('resultado').innerText = `P(X ≤ ${valorX}) = ${resultado.toFixed(5)}`;
//             break;
//         case 'mayor_igual':
//             resultado = 1 - normCDF(z);
//             document.getElementById('resultado').innerText = `P(X ≥ ${valorX}) = ${resultado.toFixed(5)}`;
//             break;
//         case 'entre':
//             let valorA = parseFloat(document.getElementById('valorA').value);
//             let valorB = parseFloat(document.getElementById('valorB').value);
//             let zA = (valorA - media) / desviacion;
//             let zB = (valorB - media) / desviacion;
//             resultado = normCDF(zB) - normCDF(zA);
//             document.getElementById('resultado').innerText = `P(${valorA} ≤ X ≤ ${valorB}) = ${resultado.toFixed(5)}`;
//             break;
//         default:
//             document.getElementById('resultado').innerText = 'Por favor selecciona un tipo de probabilidad válido.';
//             return;
//     }

//     // Mostrar el gráfico
//     mostrarGrafico(media, desviacion, valorX, resultado, tipoProbabilidad, valorA, valorB);
// }

// function normCDF(z) {
//     // Cálculo de la CDF usando la aproximación de la función de distribución normal
//     return 0.5 * (1 + erf(z / Math.sqrt(2)));
// }

// function erf(z) {
//     // Función de error
//     let sign = (z >= 0) ? 1 : -1;
//     z = Math.abs(z);
//     let a1 = 0.254829592;
//     let a2 = -0.284496736;
//     let a3 = 1.421413741;
//     let a4 = -1.453152027;
//     let a5 = 1.061405429;
//     let p = 0.3275911;

//     let t = 1.0 / (1.0 + p * z);
//     let y = 1.0 - ((((((a5 * t + a4) * t) + a3) * t + a2) * t + a1) * t) * Math.exp(-z * z);
    
    
//     return sign * y;
// }

// function mostrarCamposAdicionales() {
//     let tipoProbabilidad = document.getElementById('tipoProbabilidad').value;
//     let camposAdicionales = document.getElementById('camposAdicionales');
    
//     if (tipoProbabilidad === 'entre') {
//         camposAdicionales.style.display = 'block';
//         document.getElementById('valorA').required = true;
//         document.getElementById('valorB').required = true;
//     } else {
//         camposAdicionales.style.display = 'none';
//         document.getElementById('valorA').required = false;
//         document.getElementById('valorB').required = false;
//     }
// }


// function reiniciarFormulario() {
//     document.getElementById('normalForm').reset();
//     document.getElementById('resultado').innerText = '';
//     document.getElementById('camposAdicionales').style.display = 'none';
//     document.getElementById('graficoNormal').style.display = 'none';
// }

// function mostrarGrafico(media, desviacion, valorX, resultado, tipoProbabilidad, valorA, valorB) {
//     const ctx = document.getElementById('graficoNormal').getContext('2d');
    
//     const xValues = [];
//     const yValues = [];
//     const step = 0.1;

//     for (let x = media - 4 * desviacion; x <= media + 4 * desviacion; x += step) {
//         const z = (x - media) / desviacion;
//         yValues.push(normPDF(z));
//         xValues.push(x);
//     }

//     // Crear el gráfico
//     const chart = new Chart(ctx, {
//         type: 'line',
//         data: {
//             labels: xValues,
//             datasets: [{
//                 label: 'Distribución Normal',
//                 data: yValues,
//                 borderColor: '#3d84a8',
//                 borderWidth: 2,
//                 fill: true,
//                 backgroundColor: 'rgba(61, 132, 168, 0.3)',
//             }]
//         },
//         options: {
//             responsive: true,
//             scales: {
//                 y: {
//                     beginAtZero: true,
//                     title: {
//                         display: true,
//                         text: 'Densidad de Probabilidad'
//                     }
//                 },
//                 x: {
//                     title: {
//                         display: true,
//                         text: 'Valor (X)'
//                     }
//                 }
//             },
//             plugins: {
//                 tooltip: {
//                     callbacks: {
//                         label: function(context) {
//                             return `Densidad: ${context.parsed.y.toFixed(5)}`;
//                         }
//                     }
//                 }
//             }
//         }
//     });
    
//     document.getElementById('graficoNormal').style.display = 'block';
// }

// function normPDF(z) {
//     // Función de densidad de probabilidad de la normal
//     return (1 / Math.sqrt(2 * Math.PI)) * Math.exp(-0.5 * z * z);
// }

// function volver() {
//     window.history.back();
// }




/* Estilo general */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}
  
body {
    font-family: 'Arial', sans-serif;
    background-color: #1e1e2f;
    color: #e6e6e6;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow-x: hidden;
    overflow-y: auto;
    position: relative;
}
  
.container {
    background-color: #2c2c54;
    padding: 2rem;
    border-radius: 15px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    max-width: 600px;  /* Ajustado para pantallas más grandes */
    width: 90%;
    text-align: center;
}
  
h1 {
    color: #e6e6e6;
    margin-bottom: 1.5rem;
}
  
/* Formulario */
.formulario .form-group {
    margin-bottom: 1.5rem;
}
  
label {
    font-weight: bold;
    display: block;
    margin-bottom: 0.5rem;
}
  
input {
    width: 100%;
    padding: 0.75rem;
    border: none;
    border-radius: 5px;
    background-color: #1e1e2f;
    color: #e6e6e6;
}
  
input::placeholder {
    color: #888;
}
  
.btn-calcular {
    background-color: #3d84a8;
    color: white;
    border: none;
    border-radius: 5px;
    padding: 0.75rem;
    cursor: pointer;
    transition: background-color 0.3s;
}
  
.btn-calcular:hover {
    background-color: #53a4d2;
}
  
/* Botones adicionales */
.btn-reiniciar, .btn-volver {
    background-color: #ff6347;
    color: white;
    border: none;
    border-radius: 5px;
    padding: 0.75rem;
    cursor: pointer;
    margin: 0.5rem;
}
  
.btn-reiniciar:hover, .btn-volver:hover {
    background-color: #e55337;
}
  
/* Botón "Volver" posicionado en la parte inferior de la página */
.btn-volver {
    position: relative;
    margin-top: 1.5rem;
    width: 100%;
}
  
/* Resultado */
.resultado {
    margin-top: 1.5rem;
    font-size: 1.2rem;
}
  
/* Gráfico */
canvas {
    margin-top: 20px;
    max-width: 100%;
    height: 300px;
}
  
/* Figuras geométricas */
.hexagon1, .hexagon2, .circle1 {
    position: absolute;
    background: rgba(61, 132, 168, 0.2);
    animation: float 6s infinite ease-in-out;
}
  
.hexagon1 {
    width: 200px;
    height: 200px;
    clip-path: polygon(50% 0%, 93% 25%, 93% 75%, 50% 100%, 7% 75%, 7% 25%);
    top: -50px;
    left: -50px;
}
  
.hexagon2 {
    width: 150px;
    height: 150px;
    clip-path: polygon(50% 0%, 93% 25%, 93% 75%, 50% 100%, 7% 75%, 7% 25%);
    bottom: -30px;
    right: -30px;
}
  
.circle1 {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    bottom: 20px;
    left: 30px;
}
  
/* Animación flotante */
@keyframes float {
    0%, 100% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(-20px);
    }
}
  
/* Responsive Design */
@media (max-width: 600px) {
    .container {
        padding: 1.5rem;
    }
  
    .hexagon1, .hexagon2 {
        width: 100px;
        height: 100px;
    }
  
    .circle1 {
        width: 50px;
        height: 50px;
    }
  
    canvas {
        height: 250px;
    }
  
    .btn-volver {
        position: static;
        margin-top: 1rem;
    }
}

/* Estilos del logo UMG */
.logo {
    position: absolute;
    top: 20px;
    left: 20px;
    font-family: 'Arial', sans-serif;
}
  
.logo h2 {
    font-size: 2rem;
    color: #ff6347;  /* Color del logo */
    font-weight: bold;
    letter-spacing: 0.2rem;
    margin: 0;
}
